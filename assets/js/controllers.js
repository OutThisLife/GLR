var $body,$container,app,winObj;app=angular.module("app.controllers",[]),winObj=$(window),$body=$("html, body"),$container=$("#container"),app.controller("MainCtrl",["$scope","$timeout","$compile","$pages",function(n,t,o,e){var r,i;return n.transform=function(){var n;return n=Modernizr.prefixed("transform"),n=n.replace(/([A-Z])/g,function(n,t){return"-"+t.toLowerCase()}),n.replace(/^ms-/,"-ms-")}(n.transform),i=function(){return n.$apply(function(){return n.winWidth=winObj.width(),n.winHeight=winObj.height(),n.scrollTop=winObj.scrollTop(),n.scrollLeft=winObj.scrollLeft()})},n.sq=function(){return{width:n.winWidth,height:n.winHeight}},t(function(){return i()}),winObj.on("scroll resize orientationchange",i),n.mobile={},n.mobile.toggle=function(){return n.mobile.status="closed"===n.mobile.status?"open":"closed"},$("#content").on("click touchend",function(){return n.$apply(function(){return n.mobile.status="closed"})}),r=$("#page"),n.goToPage=function(t){return e.fetch(t).then(function(t){return r.empty().append(t.data),o(r.contents())(n)})},t(function(){var t;return(t=location.hash)?(t=location.href.replace("#","").replace("%2F",""),n.goToPage(t),location.hash=""):void 0}),$body.on("click tap",'[href][target!="_blank"][href!="javascript:;"]',function(t){var o,e,r;return e=$(t.target),o=e.is("a")?e:e.parents("a"),r=o.attr("href"),null==r||r.match(/mailto/)||/\.(?:jpg|jpeg|gif|png)$/i.test(r)||!r.match(location.origin)?void 0:(t.preventDefault(),t.stopPropagation(),n.goToPage(r))})}]);