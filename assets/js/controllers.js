var $body,$container,app,winObj;app=angular.module("app.controllers",[]),winObj=$(window),$body=$("html, body"),$container=$("#container"),app.controller("MainCtrl",["$scope","$timeout","$compile","$pages",function(n,t,e,o){var r,i;return n.transform=function(){var n;return n=Modernizr.prefixed("transform"),n=n.replace(/([A-Z])/g,function(n,t){return"-"+t.toLowerCase()}),n.replace(/^ms-/,"-ms-")}(n.transform),i=function(){return n.$apply(function(){return n.winWidth=winObj.width(),n.winHeight=winObj.height(),n.scrollTop=winObj.scrollTop(),n.scrollLeft=winObj.scrollLeft()})},n.sq=function(){return{width:n.winWidth,height:n.winHeight}},t(function(){return i()}),winObj.on("scroll resize orientationchange",i),n.mobile={},n.mobile.toggle=function(){return n.mobile.status="closed"===n.mobile.status?"open":"closed"},$("#content").on("click touchend",function(){return n.$apply(function(){return n.mobile.status="closed"})}),r=$("#page"),n.goToPage=function(t){return o.fetch(t).then(function(t){return r.empty().append(t.data),e(r.contents())(n)})},n.$on("$locationChangeSuccess",function(t,e){return n.goToPage(e)}),$body.on("click tap",'[href][target!="_blank"][href!="javascript:;"]',function(t){var e,o,r;return o=$(t.target),e=o.is("a")?o:o.parents("a"),r=e.attr("href"),null==r||r.match(/mailto/)||/\.(?:jpg|jpeg|gif|png)$/i.test(r)||!r.match(location.origin)?void 0:(t.preventDefault(),t.stopPropagation(),n.goToPage(r))}),t(function(){return $("#header [href]").each(function(){var n;return n=$(this).attr("href"),n.match(location.origin)?o.fetch(n,!1):void 0})})}]);